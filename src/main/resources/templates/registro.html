<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <!-- Incluyendo Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .error-message {
            color: red;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
    </style>
</head>

<body class="min-h-screen bg-gray-100 flex justify-center items-center">

    <div class="max-w-screen-xl m-0 sm:m-10 bg-white shadow sm:rounded-lg flex justify-center flex-1">
        <div class="flex-1 bg-green-100 text-center hidden lg:flex">
            <div class="m-12 xl:m-16 w-full bg-contain bg-center bg-no-repeat"
                style="background-image: url('https://i.imgur.com/QpPFWjs.png');">
            </div>
        </div>
        <div class="lg:w-1/2 xl:w-5/12 p-6 sm:p-12">
            <!-- <div class="text-center">
                <img src="https://i.imgur.com/QpPFWjs.png" height="80" class="w-48 mx-auto" alt="EcoMisiones Logo">
            </div> -->
            <div class="mt-12 flex flex-col items-center">
                <div class="w-full flex-1 mt-8">
                    <h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-6">Registro de usuarios</h2>

                    <!-- Formulario de Registro -->
                    <form th:action="@{/registro}" method="post" id="registrationForm" onsubmit="return validateForm()">

                        <!-- Nombre -->
                        <div class="mb-4">
                            <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre</label>
                            <input type="text"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="nombre" name="nombre" placeholder="Inserte su nombre" required>
                            <p id="nombreError" class="error-message"></p>
                        </div>

                        <!-- Apellido -->
                        <div class="mb-4">
                            <label for="apellido" class="block text-sm font-medium text-gray-700">Apellido</label>
                            <input type="text"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="apellido" name="apellido" placeholder="Inserte su apellido" required>
                            <p id="apellidoError" class="error-message"></p>
                        </div>

                        <!-- Correo Electrónico -->
                        <div class="mb-4">
                            <label for="correo" class="block text-sm font-medium text-gray-700">Correo Electrónico</label>
                            <input type="email"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="correo" name="correo" placeholder="prueba@gmail.com" required>
                            <p id="correoError" class="error-message"></p>
                        </div>

                        <!-- Teléfono -->
                        <div class="mb-4">
                            <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
                            <input type="tel"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="telefono" name="telefono" placeholder="+54 9 11 1234-5678"
                                pattern="^\+?\d{0,3}[-.\s]?\d?[-.\s]?\(?\d{2,4}\)?[-.\s]?\d{2,4}[-\s]?\d{4}$">
                            <p id="telefonoError" class="error-message"></p>
                        </div>

                        <!-- Contraseña -->
                        <div class="mb-4">
                            <label for="password" class="block text-sm font-medium text-gray-700">Contraseña</label>
                            <input type="password"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="password" name="password" required>
                            <p id="passwordError" class="error-message"></p>
                        </div>

                        <!-- Repetir Contraseña -->
                        <div class="mb-4">
                            <label for="repeatPassword" class="block text-sm font-medium text-gray-700">Repetir
                                Contraseña</label>
                            <input type="password"
                                class="mt-2 p-2 w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                id="repeatPassword" name="repeatPassword" required>
                            <p id="repeatPasswordError" class="error-message"></p>
                        </div>

                        <!-- Términos y Condiciones -->
                        <div class="flex items-center mb-4">
                            <input type="checkbox" class="mr-2" id="terms" required>
                            <label class="text-sm text-gray-600" for="terms">
                                Acepto los <a href="#" class="text-blue-500">términos y condiciones</a>
                            </label>
                            <p id="termsError" class="error-message"></p>
                        </div>

                        <!-- Botón de Registro -->
                        <button type="submit"
                            class="w-full py-3 bg-teal-500 text-white font-semibold rounded-lg hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-400">
                            Registrarse
                        </button>

                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        function validateForm() {
            let isValid = true;

            // Validación del nombre
            const nombre = document.getElementById('nombre').value;
            const nombreError = document.getElementById('nombreError');
            if (nombre.trim() === '') {
                nombreError.textContent = 'Por favor, ingrese su nombre.';
                isValid = false;
            } else {
                nombreError.textContent = '';
            }

            // Validación del apellido
            const apellido = document.getElementById('apellido').value;
            const apellidoError = document.getElementById('apellidoError');
            if (apellido.trim() === '') {
                apellidoError.textContent = 'Por favor, ingrese su apellido.';
                isValid = false;
            } else {
                apellidoError.textContent = '';
            }

            // Validación del correo
            const correo = document.getElementById('correo').value;
            const correoError = document.getElementById('correoError');
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            if (!emailPattern.test(correo)) {
                correoError.textContent = 'Por favor, ingrese un correo válido.';
                isValid = false;
            } else {
                correoError.textContent = '';
            }

            // Validación del teléfono
            const telefono = document.getElementById('telefono').value;
            const telefonoError = document.getElementById('telefonoError');
            const phonePattern = /^\+?\d{0,3}[-.\s]?\d?[-.\s]?\(?\d{2,4}\)?[-.\s]?\d{2,4}[-\s]?\d{4}$/;
            if (telefono && !phonePattern.test(telefono)) {
                telefonoError.textContent = 'Por favor, ingrese un teléfono válido.';
                isValid = false;
            } else {
                telefonoError.textContent = '';
            }

            // Validación de la contraseña
            const password = document.getElementById('password').value;
            const passwordError = document.getElementById('passwordError');
            if (password.length < 6) {
                passwordError.textContent = 'La contraseña debe tener al menos 6 caracteres.';
                isValid = false;
            } else {
                passwordError.textContent = '';
            }

            // Validación de repetir contraseña
            const repeatPassword = document.getElementById('repeatPassword').value;
            const repeatPasswordError = document.getElementById('repeatPasswordError');
            if (repeatPassword !== password) {
                repeatPasswordError.textContent = 'Las contraseñas no coinciden.';
                isValid = false;
            } else {
                repeatPasswordError.textContent = '';
            }

            // Validación de términos y condiciones
            const terms = document.getElementById('terms').checked;
            const termsError = document.getElementById('termsError');
            if (!terms) {
                termsError.textContent = 'Debe aceptar los términos y condiciones.';
                isValid = false;
            } else {
                termsError.textContent = '';
            }

            return isValid;
        }
    </script>

</body>

</html>
